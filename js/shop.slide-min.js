window.onload=function(){(function(){var b=function(f,e){$element=$(f);this.time=e;$img=$element.find(".scroll-img div img");$nav=$element.find(".scroll-nav li");$imgWrap=$element.find(".scroll-img");$navWrap=$element.find(".scroll-nav");this.imgWidth=770;this.imgCount=4;this.imgOne=$img.eq(0).attr("src");this.imgMoveCount=0;if(this.imgCount==0){alert("no picture!");return}$imgWrap.find("div").width(this.imgWidth*this.imgCount);$imgWrap.width(this.imgWidth*(this.imgCount+1));$imgWrap.append('<img src="'+this.imgOne+'" />');var d=this,c;this.init=function(){this.Loop();$element.mouseover(function(){clearInterval(c)});$element.mouseout(function(){d.Loop()});this.navClick()};this.Loop=function(){c=setInterval(function(){d.imgMove()},this.time)};this.imgMove=function(){this.imgMoveCount++;var g=this.imgWidth*this.imgMoveCount;$imgWrap.animate({left:"-"+g+"px"},1000);if(this.imgMoveCount==this.imgCount){$imgWrap.animate({left:"0px"},0);this.imgMoveCount=0}this.navMove()};this.navMove=function(){$nav.removeClass("current");$nav.eq(this.imgMoveCount).addClass("current")};this.navClick=function(){$nav.click(function(){var g=$(this).index(),h=$(this).index()*d.imgWidth;$nav.removeClass("current");$nav.eq(g).addClass("current");$imgWrap.stop().animate({left:"-"+h+"px"},1000);d.imgMoveCount=g})}};var a=new b(".scroll",6000);a.init()})()};
